PKGNAME=gssdp
PKGSEC=libs
PKGDEP="gtk-4 libsoup-3"
BUILDDEP="gi-docgen gobject-introspection vala gtk-doc"
# FIXME: pandoc (Haskell) is only available for certain architectures.
BUILDDEP__AMD64="${BUILDDEP} pandoc"
BUILDDEP__ARM64="${BUILDDEP} pandoc"
PKGDES="A GObject-based API for handling resource discovery and announcement over SSDP"

# FIXME: gtk_doc generation requires pandoc (Haskell), but it is only
# available for certain architectures.
MESON_AFTER="-Dgtk_doc=false \
             -Dsniffer=true \
             -Dintrospection=true \
             -Dvapi=true \
             -Dexamples=false \
             -Dmanpages=true"
MESON_AFTER__AMD64=" \
             ${MESON_AFTER} \
             -Dgtk_doc=true"
MESON_AFTER__ARM64=" \
             ${MESON_AFTER} \
             -Dgtk_doc=true"

PKGBREAK="""
caja-extensions<=1.26.1
dleyna-connector-dbus<=0.3.0-2
dleyna-core<=0.6.0-1
dleyna-renderer<=0.6.0-1
dleyna-server<=0.6.0-1
gupnp<=1.2.4
gupnp-igd<=0.2.5-2
rygel<=0.40.4
"""
